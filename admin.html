<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CiviFix Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* Reset & Fonts */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Segoe UI", sans-serif;
        }
        
        body {
            background: linear-gradient(-45deg, #e0f2fe, #f1f5f9, #e0f2fe, #f1f5f9);
            background-size: 400% 400%;
            animation: gradientMove 10s ease infinite;
            color: black;
            min-height: 100vh;
        }
        
        @keyframes gradientMove {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        /* Header */
        
        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 15px 25px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .logo-box {
            background: blue;
            color: whitesmoke;
            font-weight: bold;
            padding: 6px 10px;
            border-radius: 6px;
        }
        
        .logo h1 {
            font-size: 20px;
        }
        
        .logo h1 span {
            display: block;
            font-size: 12px;
            color: black;
        }
        
        .searchbar {
            flex: 1;
            max-width: 350px;
            margin: 0 30px;
            display: flex;
            align-items: center;
            background: #f1f3f9;
            border-radius: 30px;
            padding: 8px 15px;
            box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .searchbar:focus-within {
            box-shadow: 0 0 0 2px #2563eb;
            background: white;
        }
        
        .searchbar input {
            border: none;
            outline: none;
            flex: 1;
            background: transparent;
            font-size: 14px;
            padding: 5px;
        }
        
        .searchbar i {
            color: #666;
        }
        
        .searchbar input:focus+i {
            color: blue;
        }
        
        .top-actions i {
            font-size: 20px;
            margin-left: 25px;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .top-actions i:hover {
            background: #f1f3f9;
            color: #2563eb;
            transform: scale(1.1);
        }
        
        .container {
            padding: 25px;
            max-width: 1200px;
            margin: 0 auto;
        }
        /* Stats Cards */
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: #fff;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card::before {
            content: "";
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 5px;
            background: linear-gradient(180deg, #2563eb, #60a5fa);
            border-radius: 16px 0 0 16px;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.12);
        }
        
        .stat-card h3 {
            font-size: 15px;
            color: #666;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .stat-card .number {
            font-size: 32px;
            font-weight: bold;
            color: #111;
            margin: 8px 0;
        }
        
        .stat-card span {
            font-size: 13px;
            color: #777;
        }
        
        .positive {
            color: green;
            font-weight: 600;
        }
        
        .negative {
            color: #dc2626;
            font-weight: 600;
        }
        /* Issues Section */
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .section-header h2 {
            font-size: 24px;
            color: #2c3e50;
        }
        
        .location-btn {
            background: green;
            color: #fff;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.06);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .filters select {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            cursor: pointer;
            background-color: white;
        }
        
        .filters select:focus {
            outline: none;
            border-color: #2563eb;
        }
        /* Issue Cards */
        
        .issues-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }
        
        .issue-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 1px solid #2563eb;
        }
        /* Hover effect */
        
        .issue-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
            border: 1px solid #2563eb;
        }
        /* Optional hover glow for tags */
        
        .issue-card:hover .tag {
            opacity: 0.9;
            transform: scale(1.05);
        }
        
        .issue-card .category {
            font-size: 13px;
            color: #374151;
            font-weight: 500;
        }
        
        .issue-card h3 {
            font-size: 16px;
            font-weight: 600;
            color: #111;
            margin-bottom: 10px;
        }
        
        .tags {
            margin-bottom: 10px;
        }
        
        .tag {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: bold;
            margin-right: 6px;
            color: #fff;
            transition: all 0.3s ease;
        }
        
        .tag.high {
            background: #dc2626;
        }
        
        .tag.medium {
            background: #f59e0b;
        }
        
        .tag.low {
            background: #16a34a;
        }
        
        .tag.reported {
            background: #3b82f6;
        }
        
        .tag.progress {
            background: #f97316;
        }
        
        .tag.resolved {
            background: #16a34a;
        }
        
        .category {
            font-size: 13px;
            color: black;
        }
        
        .issue-meta {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
        /* Sidenav */
        
        .sidenav {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1000;
            top: 0;
            right: 0;
            background-color: #2c3e50;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
        }
        
        .sidenav a {
            padding: 15px 25px;
            text-decoration: none;
            font-size: 18px;
            color: #ecf0f1;
            display: block;
            transition: 0.3s;
        }
        
        .sidenav a:hover {
            background-color: #34495e;
        }
        
        .sidenav .closebtn {
            position: absolute;
            top: 10px;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }
        /* Footer */
        
        footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px 0;
            margin-top: 40px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 10px;
            gap: 20px;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
        }
        
        .footer-links a:hover {
            text-decoration: underline;
        }
        
        @media screen and (max-height: 450px) {
            .sidenav {
                padding-top: 15px;
            }
            .sidenav a {
                font-size: 18px;
            }
        }
        
        .no-issues {
            grid-column: 1 / -1;
            text-align: center;
            padding: 40px;
            background: white;
            border-radius: 12px;
            font-size: 18px;
            color: #666;
        }
        
        .issue-id {
            font-size: 11px;
            color: #888;
            margin-bottom: 5px;
        }
        
        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            max-height: 200px;
            overflow-y: auto;
            display: none;
            z-index: 100;
        }
        
        .search-suggestion {
            padding: 10px 15px;
            cursor: pointer;
            border-bottom: 1px solid #f1f1f1;
        }
        
        .search-suggestion:hover {
            background-color: #f5f5f5;
        }
        
        .search-container {
            position: relative;
            flex: 1;
            max-width: 350px;
            margin: 0 30px;
        }
        
        .clear-search {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #999;
            display: none;
        }
        
        .clear-search:hover {
            color: #333;
        }
    </style>
</head>

<body>

    <header class="topbar">
        <div class="logo">
            <div class="logo-box">CiviFix</div>
            <h1>CiviFix <span> City Government Portal </span></h1>
        </div>

        <div class="search-container">
            <div class="searchbar">
                <input type="text" placeholder="Search Issues..." id="searchInput">
                <i class="fas fa-search"></i>
                <span class="clear-search" id="clearSearch"><i class="fas fa-times"></i></span>
            </div>
            <div class="search-suggestions" id="searchSuggestions"></div>
        </div>

        <div class="top-actions">
            <i class="fas fa-bell"></i>
            <i class="fas fa-user-circle" style="font-size:20px;cursor:pointer" onclick="openNav()"></i>
            <div id="mySidenav" class="sidenav">
                <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                <a href="#">Profile</a>
                <a href="#">Services</a>
                <a href="#">Settings</a>
                <a href="index.html">Logout</a>
            </div>
        </div>
    </header>

    <main class="container">
        <!-- Dashboard Stats -->
        <section class="stats">
            <div class="stat-card">
                <h3>Total Issues</h3>
                <p class="number">1,247</p>
                <span class="positive" style="color: #e91b1b;">+12% from last month</span>
            </div>
            <div class="stat-card">
                <h3>Open Issues</h3>
                <p class="number">89</p>
                <span style="color: rgb(233, 160, 27);">Pending Resolution</span>
            </div>
            <div class="stat-card">
                <h3>In Progress</h3>
                <p class="number">34</p>
                <span style="color: blue;">Being Worked On</span>
            </div>
            <div class="stat-card">
                <h3>Resolved This Month</h3>
                <p class="number">156</p>
                <span class="positive" style="color:#16a34a">+8% successfully closed</span>
            </div>
        </section>

        <!-- Issue Management -->
        <section class="issues">
            <div class="section-header">
                <h2>Issue Management</h2>
                <button class="location-btn" onclick="openLocationURL()"><i class="fas fa-map-marker-alt"></i> Location Set</button>
            </div>

            <!-- Filters -->
            <div class="filters">
                <select id="statusFilter">
                    <option value="all"><b>All Status</b></option>
                    <option value="reported">Reported</option>
                    <option value="progress">In Progress</option>
                    <option value="resolved">Resolved</option>
                </select>
                <select id="urgencyFilter">
                    <option value="all"><b>All Urgency</b></option>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="low">Low</option>
                </select>
                <select id="categoryFilter">
                    <option value="all"><b>All Categories</b></option>
                    <option value="roads">Roads & Transport</option>
                    <option value="utilities">Utilities</option>
                    <option value="government">Government Residential</option>
                    <option value="parks">Parks & Recreation</option>
                    <option value="crime">Crime Reports</option>
                </select>
            </div>

            <!-- Issue Cards -->
            <div class="issues-grid" id="issuesContainer">
                <!-- Issues will be loaded here dynamically -->
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Accessibility</a>
                <a href="#">Terms of Service</a>
                <a href="#">Contact Us</a>
            </div>
            <p>&copy; 2025 Government Services. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Sample issues data - in a real app, this would come from your FastAPI backend
        const issuesData = [{
            id: "ISS-001",
            title: "Pothole on Main Street causing traffic delays",
            category: "Roads & Transport",
            urgency: "high",
            status: "reported",
            date: "2023-10-15",
            votes: 24,
            description: "Large pothole near the intersection causing traffic congestion during rush hours."
        }, {
            id: "ISS-002",
            title: "Street light out on Oak Avenue",
            category: "Utilities",
            urgency: "medium",
            status: "progress",
            date: "2023-10-14",
            votes: 18,
            description: "Street light not working near the park, making the area dark and unsafe at night."
        }, {
            id: "ISS-003",
            title: "Broken playground equipment in Central Park",
            category: "Parks & Recreation",
            urgency: "high",
            status: "resolved",
            date: "2023-10-10",
            votes: 32,
            description: "Swing set broken and slide damaged in the children's playground area."
        }, {
            id: "ISS-004",
            title: "Graffiti on Government Building",
            category: "Government Residential",
            urgency: "medium",
            status: "reported",
            date: "2023-10-13",
            votes: 15,
            description: "Spray paint graffiti on the west side of the municipal building."
        }, {
            id: "ISS-005",
            title: "Water Drainage Block on 5th Avenue",
            category: "Utilities",
            urgency: "high",
            status: "reported",
            date: "2023-10-12",
            votes: 29,
            description: "Storm drain clogged causing water accumulation during rains."
        }, {
            id: "ISS-006",
            title: "Short Circuit in Block 2",
            category: "Government Residential",
            urgency: "high",
            status: "progress",
            date: "2023-10-11",
            votes: 21,
            description: "Electrical short circuit causing power outages in the government housing complex."
        }, {
            id: "ISS-007",
            title: "Broken Water Pump near City Hall",
            category: "Utilities",
            urgency: "medium",
            status: "reported",
            date: "2023-10-09",
            votes: 17,
            description: "Water pump malfunction affecting water supply to nearby buildings."
        }, {
            id: "ISS-008",
            title: "Fallen Tree blocking Maple Road",
            category: "Roads & Transport",
            urgency: "high",
            status: "resolved",
            date: "2023-10-08",
            votes: 36,
            description: "Large tree fell during storm, completely blocking the road."
        }, {
            id: "ISS-009",
            title: "Garbage accumulation in Central Market",
            category: "Utilities",
            urgency: "medium",
            status: "progress",
            date: "2023-10-07",
            votes: 27,
            description: "Trash not being collected regularly, causing odor and pest issues."
        }, {
            id: "ISS-010",
            title: "Damaged sidewalk on Pine Street",
            category: "Roads & Transport",
            urgency: "medium",
            status: "reported",
            date: "2023-10-06",
            votes: 14,
            description: "Cracked and uneven sidewalk posing tripping hazard to pedestrians."
        }, {
            id: "ISS-011",
            title: "Playground swing set needs repair",
            category: "Parks & Recreation",
            urgency: "medium",
            status: "reported",
            date: "2023-10-05",
            votes: 19,
            description: "One of the swings is broken and needs replacement for safety."
        }, {
            id: "ISS-012",
            title: "Leaking pipe in Community Center",
            category: "Government Residential",
            urgency: "high",
            status: "progress",
            date: "2023-10-04",
            votes: 31,
            description: "Water pipe leaking in the basement, causing water damage."
        }, {
            id: "ISS-013",
            title: "Theft and Burglary:",
            category: "Crime Reports",
            urgency: "high",
            status: "reported",
            date: "2023-10-06",
            votes: 21,
            description: "The unlawful taking of another person's property, often involving breaking into a building or premises with intent to steal"
        }, {
            id: "ISS-014",
            title: "Suspicious Activity and Persons:",
            category: "Crime Reports",
            urgency: "high",
            status: "progress",
            date: "2023-10-02",
            votes: 8,
            description: "Several residents spotted unknown individuals loitering near the park late at night. Their behavior seemed unusual, with repeated visits over the past 3 nights"
        }, {
            id: "ISS-015",
            title: "Harassment and Bullying:",
            category: "Crime Reports",
            urgency: "high",
            status: "reported",
            date: "2023-10-05",
            votes: 26,
            description: "Several students reported being harassed by a group of older kids near the school gate. Parents are worried about safety and request immediate action to prevent such incidents"
        }];

        // DOM elements
        const issuesContainer = document.getElementById('issuesContainer');
        const statusFilter = document.getElementById('statusFilter');
        const urgencyFilter = document.getElementById('urgencyFilter');
        const categoryFilter = document.getElementById('categoryFilter');
        const searchInput = document.getElementById('searchInput');
        const searchSuggestions = document.getElementById('searchSuggestions');
        const clearSearch = document.getElementById('clearSearch');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderIssues(issuesData);
            setupEventListeners();
        });

        // Set up event listeners for filters and search
        function setupEventListeners() {
            statusFilter.addEventListener('change', filterIssues);
            urgencyFilter.addEventListener('change', filterIssues);
            categoryFilter.addEventListener('change', filterIssues);
            searchInput.addEventListener('input', handleSearchInput);
            clearSearch.addEventListener('click', clearSearchInput);

            // Close suggestions when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchSuggestions.contains(e.target) && e.target !== searchInput) {
                    searchSuggestions.style.display = 'none';
                }
            });
        }

        // Handle search input with debouncing
        let searchTimeout;

        function handleSearchInput() {
            // Show/hide clear button based on input
            clearSearch.style.display = searchInput.value ? 'block' : 'none';

            // Show suggestions if there's text
            if (searchInput.value.length > 0) {
                showSearchSuggestions(searchInput.value);
            } else {
                searchSuggestions.style.display = 'none';
            }

            // Debounce the filtering to avoid too many operations
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                filterIssues();
            }, 300);
        }

        // Clear search input
        function clearSearchInput() {
            searchInput.value = '';
            clearSearch.style.display = 'none';
            searchSuggestions.style.display = 'none';
            filterIssues();
            searchInput.focus();
        }

        // Show search suggestions
        function showSearchSuggestions(query) {
            const lowerQuery = query.toLowerCase();

            // Get unique suggestions from titles, categories, and descriptions
            const suggestions = [];
            const seen = new Set();

            issuesData.forEach(issue => {
                // Check title
                if (issue.title.toLowerCase().includes(lowerQuery) && !seen.has(issue.title)) {
                    suggestions.push({
                        text: issue.title,
                        type: 'Title'
                    });
                    seen.add(issue.title);
                }

                // Check category
                if (issue.category.toLowerCase().includes(lowerQuery) && !seen.has(issue.category)) {
                    suggestions.push({
                        text: issue.category,
                        type: 'Category'
                    });
                    seen.add(issue.category);
                }

                // Check description for keywords
                const words = issue.description.toLowerCase().split(' ');
                words.forEach(word => {
                    if (word.includes(lowerQuery) && word.length > 3 && !seen.has(word)) {
                        suggestions.push({
                            text: word,
                            type: 'Keyword'
                        });
                        seen.add(word);
                    }
                });
            });

            // Limit to 5 suggestions
            const limitedSuggestions = suggestions.slice(0, 5);

            // Display suggestions
            if (limitedSuggestions.length > 0) {
                searchSuggestions.innerHTML = '';
                limitedSuggestions.forEach(suggestion => {
                    const div = document.createElement('div');
                    div.className = 'search-suggestion';
                    div.innerHTML = `<strong>${suggestion.text}</strong> <span style="color: #777; font-size: 12px;">(${suggestion.type})</span>`;
                    div.addEventListener('click', () => {
                        searchInput.value = suggestion.text;
                        filterIssues();
                        searchSuggestions.style.display = 'none';
                    });
                    searchSuggestions.appendChild(div);
                });
                searchSuggestions.style.display = 'block';
            } else {
                searchSuggestions.style.display = 'none';
            }
        }

        // Filter issues based on selected filters and search
        function filterIssues() {
            const statusValue = statusFilter.value;
            const urgencyValue = urgencyFilter.value;
            const categoryValue = categoryFilter.value;
            const searchValue = searchInput.value.toLowerCase();

            const filteredIssues = issuesData.filter(issue => {
                // Status filter
                if (statusValue !== 'all' && issue.status !== statusValue) {
                    return false;
                }

                // Urgency filter
                if (urgencyValue !== 'all' && issue.urgency !== urgencyValue) {
                    return false;
                }

                // Category filter
                if (categoryValue !== 'all') {
                    let categoryMatch = false;
                    switch (categoryValue) {
                        case 'roads':
                            categoryMatch = issue.category === 'Roads & Transport';
                            break;
                        case 'utilities':
                            categoryMatch = issue.category === 'Utilities';
                            break;
                        case 'government':
                            categoryMatch = issue.category === 'Government Residential';
                            break;
                        case 'parks':
                            categoryMatch = issue.category === 'Parks & Recreation';
                            break;
                        case 'crime':
                            categoryMatch = issue.category === 'Crime Reports';
                            break;
                    }
                    if (!categoryMatch) return false;
                }

                // Search filter - search in title, category, and description
                if (searchValue &&
                    !issue.title.toLowerCase().includes(searchValue) &&
                    !issue.category.toLowerCase().includes(searchValue) &&
                    !issue.description.toLowerCase().includes(searchValue)) {
                    return false;
                }

                return true;
            });

            renderIssues(filteredIssues);
        }

        // Render issues to the DOM
        function renderIssues(issues) {
            issuesContainer.innerHTML = '';

            if (issues.length === 0) {
                issuesContainer.innerHTML = '<div class="no-issues">No issues found matching your search and filters</div>';
                return;
            }

            // Sort by votes (descending) and then by date (newest first)
            issues.sort((a, b) => {
                if (b.votes !== a.votes) {
                    return b.votes - a.votes;
                }
                return new Date(b.date) - new Date(a.date);
            });

            issues.forEach(issue => {
                const issueCard = document.createElement('div');
                issueCard.className = 'issue-card';
                issueCard.onclick = () => redirectToIssueDetails(issue.id);

                // Determine status tag class and text
                let statusClass = 'reported';
                let statusText = 'REPORTED';

                if (issue.status === 'progress') {
                    statusClass = 'progress';
                    statusText = 'IN PROGRESS';
                } else if (issue.status === 'resolved') {
                    statusClass = 'resolved';
                    statusText = 'RESOLVED';
                }

                issueCard.innerHTML = `
                    <div class="issue-id">${issue.id}</div>
                    <h3>${issue.title}</h3>
                    <div class="tags">
                        <span class="tag ${issue.urgency}">${issue.urgency.toUpperCase()}</span>
                        <span class="tag ${statusClass}">${statusText}</span>
                    </div>
                    <p class="category">${issue.category}</p>
                    <div class="issue-meta">
                        <span>${issue.date}</span>
                        <span><i class="fas fa-arrow-up"></i> ${issue.votes}</span>
                    </div>
                `;

                issuesContainer.appendChild(issueCard);
            });
        }

        // Function to open the sidenav
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
        }

        // Function to close the sidenav
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
        }

        function redirectToIssueDetails(issueId) {
            // Only open report file when pothole issue is clicked
            if (issueId === 'ISS-001') {
                sessionStorage.setItem('selectedIssueId', issueId);
                window.location.href = 'report1.html';
            } else if (issueId === 'ISS-013') {
                sessionStorage.setItem('selectedIssueId', issueId);
                window.location.href = 'report2.html';
            }
            // For other cards: do nothing (can add logic here if you want different actions)
        }

        function openLocationURL() {
            // Replace with your desired URL
            window.open('https://www.google.com/maps', '_blank');
        }

        // Simulate receiving new issues (in a real app, this would come from FastAPI)
        function simulateNewIssue() {
            // This is just for demonstration - in a real app, you would receive this from your API
            const newIssue = {
                id: "ISS-" + (issuesData.length + 1).toString().padStart(3, '0'),
                title: "New Road Damage on Highway Exit",
                category: "Roads & Transport",
                urgency: "high",
                status: "reported",
                date: new Date().toISOString().split('T')[0],
                votes: 5,
                description: "Recent road damage causing traffic issues on highway exit ramp."
            };

            // Add to beginning of array (to show at top)
            issuesData.unshift(newIssue);

            // Re-render issues
            filterIssues();

            // Show notification
            alert(`New issue reported: ${newIssue.title}`);
        }

        // Simulate a new issue every 60 seconds for demonstration
        setInterval(simulateNewIssue, 120000);
    </script>
</body>

</html>